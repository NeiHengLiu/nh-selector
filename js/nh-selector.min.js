/**
 * ===========================================
 *  下拉选择器  nh-selector
 * ===========================================
 */
!function(b){function c(a,e){this.$element=a;this.$window=b(window);this.$body=b("body");this.$selector=b('\x3cdiv class\x3d"nh-selector"\x3e\x3c/div\x3e');this.locationData={};this.options=b.extend({},{data:[],autoHeight:!1,callback:function(){}},e)}c.prototype={init:function(){var a=this;a.initLocationData();a.bind(a.$element,"click",function(){a.dataProcessing(a.options.data);a.setDomPosition();a.show();console.log(a.options.data)});return a.$element},initLocationData:function(){this.locationData={window:{width:this.$window.outerWidth(!0),height:this.$window.outerHeight(!0)},dom:this.$element[0].getBoundingClientRect()}},dataProcessing:function(a){for(var e=this,f=b('\x3cul class\x3d"nh-selector-menu"\x3e\x3c/ul\x3e'),c=a.length,d=0;d<c;d++)!function(c){var d=b('\x3cli class\x3d"nh-selector-menu__item"\x3e'+a[c].label+"\x3c/li\x3e");console.log(a[c]);e.bind(d,"click",function(){console.log(b(this).index());void 0!==a[c].children?e.dataProcessing(a[c].children):e.options.callback()});f.append(d)}(d);return f},setDomPosition:function(){this.$selector.css({position:"absolute",top:this.locationData.dom.bottom+"px",left:this.locationData.dom.left+"px"})},bind:function(a,c,f){b(a).off().on(c,f)},unbind:function(a){b(a).off()},show:function(){0<b(".nh-selector").length||this.$body.append(this.$selector);this.$selector.show()}};b.fn.nhSelector=function(a){return(new c(this,a)).init()}}(jQuery);