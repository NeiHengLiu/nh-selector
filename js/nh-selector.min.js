/**
 * ===========================================
 *  下拉选择器  nh-selector
 * ===========================================
 */
!function(d){function b(a,e){this.$element=a;this.$window=d(window);this.$body=d("body");this.$selector=d('\x3cdiv class\x3d"nh-selector"\x3e\x3c/div\x3e');this.locationData={};this.callData=[];this.options=d.extend({},{data:[],autoHeight:!1,callback:function(){}},e)}b.prototype={init:function(){var a=this;a.initLocationData();a.bind(a.$element,"click",function(){a.dataProcessing(a.options.data);a.setDomPosition();a.show();console.log(a.options.data);a.$body.append(a.dataProcessing(a.options.data))});return a.$element},initLocationData:function(){this.locationData={window:{width:this.$window.outerWidth(!0),height:this.$window.outerHeight(!0)},dom:this.$element[0].getBoundingClientRect()}},dataProcessing:function(a){for(var e=this,c=d('\x3cul class\x3d"nh-selector-menu"\x3e\x3c/ul\x3e'),b=a.length,f=0;f<b;f++)!function(b){b=d('\x3cli class\x3d"nh-selector-menu__item"\x3e'+a[b].label+"\x3c/li\x3e");e.bind(b,"click",function(){var b=d(this),c=b.index(),b=b.parent().index();void 0!==a[c].children&&(e.callData[b]=e.dataScreening(a[c]),e.dataProcessing(a[c].children));e.options.callback(e.callData)});c.append(b)}(f);return c},dataScreening:function(a){var b={},c;for(c in a)"children"!==c&&(b[c]=a[c]);return b},setDomPosition:function(){this.$selector.css({position:"absolute",top:this.locationData.dom.bottom+"px",left:this.locationData.dom.left+"px"})},bind:function(a,b,c){d(a).off().on(b,c)},unbind:function(a){d(a).off()},show:function(){0<d(".nh-selector").length||this.$body.append(this.$selector);this.$selector.show()}};d.fn.nhSelector=function(a){return(new b(this,a)).init()}}(jQuery);